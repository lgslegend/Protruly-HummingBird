<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, width=device-width">
    <title>选择城市</title>
    <style type="text/css">
html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td,hr,button,article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}audio,canvas,video{display:inline-block;*display:inline;*zoom:1}input,select,textarea{font-size:100%}table{border-collapse:collapse;border-spacing:0}th{text-align:inherit}fieldset,img{border:0}iframe{display:block}abbr,acronym{border:0;font-variant:normal}del{text-decoration:line-through}ol,ul{list-style:none}q:before,q:after{content:''}div{-moz-user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-focus-ring-color:rgba(0,0,0,0)}div:focus{outline:0}input[type='button'],input[type='checkbox'],input[type='email'],input[type='file'],input[type='number'],input[type='text'],input[type='tel'],input[type='search']{-webkit-appearance:none}select{border:0;background:0;-webkit-appearance:none}.displayNone,.display-none{display:none!important}.displayBox{display:-webkit-box}input::-webkit-search-decoration,input::-webkit-search-cancel-button{display:none}a{text-decoration:none}.frame{position:fixed;top:0;left:0;z-index:10001;width:100%;height:100%;background-color:#fff}.link{width:100%;height:100%}html{font-size:10px}@media(min-width:480px){html{font-size:15px}}@media(min-width:421px) and (max-width:479px){html{font-size:12px}}@media(max-width:420px){html{font-size:10px}}.clearfix{display:block;zoom:1}.clearfix:after{content:" ";display:block;font-size:0;height:0;clear:both;visibility:hidden}div::scrollbar{display:none}div::-webkit-scrollbar{display:none}@font-face{font-family:iconfont;src:url('res/image/iconfont.ttf?ver=0.1')}html{font-family:'Helvetica Neue',Helvetica,Arial,sans-serif}
body{width:100%;background-color:white}.Title{height:3.33rem;line-height:3.33rem;color:#c7dbe4;font-size:1.53rem;padding:0 1.33rem}.even{background-color:#f0f0f0}.odd{background-color:#fff}.TitleAlpha{height:3.33rem;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:start;-webkit-box-align:stretch}.TitleAlpha .titleLeft{height:3.33rem;line-height:3.33rem;color:#c7dbe4;font-size:1.53rem;padding:0 1.33rem;-webkit-box-flex:1}.TitleAlpha .titleRight{height:3.33rem;width:4rem;background-image:url('res/image/city_right_arrow.png');background-repeat:no-repeat;background-position:center center;background-size:1.2rem 1.2rem}.TitleAlpha .titleRight.arrowDown{background-image:url('res/image/city_down_arrow.png');background-size:1.2rem 1.2rem}.cityLine{width:100%;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:start;border-bottom:1px solid #e4e4e4}.even .cityLine:last-child,.odd .cityLine:last-child{border-bottom:0}.vLine{height:2.33rem;margin-top:1rem;margin-bottom:1rem;border-right:1px dashed #c8c8c8;width:1px}.cityItem{height:4.33rem;line-height:4.33rem;text-align:center;font-size:1.67rem;min-width:33%}.lastLine{width:100%;-webkit-box-orient:horizontal;-webkit-box-pack:start;border-bottom:1px solid #e9e9e9}.cityItem.active{background-color:#e3e3e3}.checked_2{background-image:url(res/image/checked.png);background-position:75%;background-repeat:no-repeat;background-size:1.2rem 1.2rem}.checked_3{background-image:url(res/image/checked.png);background-position:84%;background-repeat:no-repeat;background-size:1.2rem 1.2rem}.checked_4{background-image:url(res/image/checked.png);background-position:92%;background-repeat:no-repeat;background-size:1.2rem 1.2rem}.moreCity{width:100%;height:5.33rem;line-height:5.33rem;text-align:center;color:#666;font-size:1.53rem}    </style>
</head>
<body>
<script>
    console.log('txm devicePixelRatio:' + window.devicePixelRatio);
    console.log('txm clientWidth: ' + document.body.clientWidth);
        var isIOS = false;
        var AND_APILEVEL = 0;
        var IOS_APILEVEL = 0;
        if (window.CTKJavaScriptHandler) {
            AND_APILEVEL = window.CTKJavaScriptHandler.getApiLevel();
        }
</script>
<div id="header">
</div>
<div id="content">
    <div class='Container'>
        <div>
            <div class='Title displayNone' id='m_current_title'>当前定位城市</div>
            <div class='lastLine displayNone'>
                <div class='cityItem' id='m_current_city'>上海</div>
                <div class='vLine'></div>
            </div>
        </div>
        <div class='Title'>热门城市</div>
    </div>
</div>
<div id="footer">
</div>
<script type='text/javascript' src='res/js/zepto.v2.js'></script>
<script type='text/javascript' src='res/js/util.v1.js'></script>
<script type='text/javascript' src='res/js/ctk.v1.js'></script>
<script type='text/javascript'>
var src_url="res/js/lib/";function loadJs(d,a){xmlHttp=new XMLHttpRequest();xmlHttp.open("GET",a,false);xmlHttp.send(null);if(xmlHttp.readyState==4){if((xmlHttp.status>=200&&xmlHttp.status<300)||xmlHttp.status==0||xmlHttp.status==304){var c=document.getElementsByTagName("HEAD").item(0);var b=document.createElement("script");b.language="javascript";b.type="text/javascript";b.id=d;b.appendChild(document.createTextNode(xmlHttp.responseText));c.appendChild(b);return true}return false}return false}function existJs(b){var a=false;try{switch(b){case"util":a=util_exist;break;case"zepto":a=zepto_exist;break;case"ctk":a=ctk_exist;break;default:break}}catch(c){a=false}if(a!=true&&a!=false){a=false}return a}function readyJs(f){for(var d=f.length-1;d>=0;--d){var c=f[d];var h=c.split("_");var b=src_url;if(h.length==1){var e=c.split(".")[0];b+=c}else{var e=h[0];var g=c.substring(c.lastIndexOf("."));b+=h[0]+g}if(existJs(e)==false){console.log("load js from web:"+b);var a=loadJs("test_"+d.toString(),b)}}};    readyJs(['zepto.v2.js', 'util.v1.js', 'ctk.v1.js']);
CTK.redirectLinkNoNavigateBar=function(a,c,b){if(this.handler){if(c in Utils.source_umeng_map){this.onUMengEvent(Utils.source_umeng_map[c])}if(b=="picture"){window.location=a}else{Utils.collect_scenario_status_external_link_params(a);if(this.getApiLevel()>=12){this.handler.startExternalLinkWebViewHideNavigationBar(a,c)}else{this.handler.startExternalLinkWebView(a,c)}}}else{window.location.href=a}};CTK.backWithRefresh=function(a){if(this.getApiLevel()>=13){return this.handler.backWithRefresh(a)}};CTK.saveFixedPage=function(a){if(this.getApiLevel()>=13){console.log("saveFixedPage : "+document.URL);return this.handler.saveFixedPage(a)}};CTK.goBackOrForward=function(a,b){if(this.getApiLevel()>=13){return this.handler.goBackOrForward(a,b)}};CTK.getBackForwardList=function(){if(this.getApiLevel()>=10){return this.handler.getBackForwardList()}};CTK.setToken=function(){if(this.handler){var c=Utils.netService;var b=this.handler.getAuthToken();var a=Utils.getCookie("auth_token");if(a&&a!==b){Utils.removeCookie("auth_token",{domain:c})}Utils.setCookie("auth_token",b,{domain:c});this.handler.setAuthToken(b)}};CTK.makePhoneCall=function(d,b,a){if(this.handler){Utils.collect_scenario_action_phone_call_params(d);var c=this.getApiLevel();if(a.indexOf(",")!=-1){a=a.slice(0,a.indexOf(","))}if(c>=4){this.handler.callPhoneLevel4(a,b?b:"",false)}else{if(c>=2){this.handler.callPhoneLevel2(a,b?b:"")}else{this.handler.callPhone(a)}}}else{if(a.indexOf(",")!=-1){a=a.slice(0,a.indexOf(","))}window.location.href="tel:"+a}};CTK.getSimOperator=function(a){if(this.handler&&this.getApiLevel()>=15){return this.handler.getSimOperator(a)}};CTK.getNetworkOperator=function(a){if(this.handler&&this.getApiLevel()>=15){return this.handler.getNetworkOperator(a)}};CTK.sendSMSMessage=function(b,a){if(this.getApiLevel()>=15){return this.handler.sendSMSMessage(b,a)}else{if(this.handler){return this.handler.sendMessage("sms",b,a)}}};CTK.getClientVersion=function(){if(this.handler){if(this.handler.getClientVersion){return this.handler.getClientVersion()}var b=this.handler.getActivationJsonInfo(),a=null;b=JSON.parse(b);a=b.app_version;a=(clientList&&a in clientList)?clientList[a]:a;return a*1||0}else{return 0}};CTK.activate=function(){var b=this;var a=0;var g=b.getClientInfo();var d=Utils.netService+"/auth/activate";var f={app_name:g.app_name||"cootek.smartinput.android.public",app_version:b.getClientVersion()+""||"0",channel_code:g.channel_code||"010001",activate_type:"new"};(function c(){$.ajax({url:d,type:"POST",async:false,timeout:10000,data:JSON.stringify(f),dataType:"json",success:function(i,h){e(i)},error:function(j,h,i){if(h=="timeout"&&a<3){a++;console.log("txm activate: timeout ! retry "+a+"; status: "+h);c()}else{e(JSON.parse(j.responseText))}}})})();function e(h){console.log("txm activate response: "+JSON.stringify(h));if(h.error_code==0){b.setItemToStorage("auth_token",Utils.getCookie("auth_token"))}}};CTK.sendVerification=function(g){var b=this;var a=0;var d=Utils.netService+"/auth/send_verification?auth_token="+Utils.get_token();var f={account_name:g.phone,type:g.type||"sms",account_type:"com.cootek.auth.phone"};b.getToken();(function c(){$.ajax({url:d,type:"POST",timeout:10000,data:JSON.stringify(f),dataType:"json",success:function(i,h){e(i)},error:function(j,h,i){if(h=="timeout"&&a<3){a++;console.log("txm send verification: timeout ! retry "+a+"; status: "+h);c()}else{e(JSON.parse(j.responseText))}}})})();function e(h){if(h.error_code){console.log("txm send verification response error, response: "+JSON.stringify(h))}else{console.log("txm send verification response: "+JSON.stringify(h))}if(typeof g.callBack=="function"){g.callBack(h)}}};CTK.loginRequest=function(g){var b=this;var a=0;var d=Utils.netService+"/auth/login?auth_token="+Utils.get_token();var f={account_name:g.phone,account_type:"com.cootek.auth.phone",verification:g.verification||"",password:g.password||""};b.getToken();(function c(){$.ajax({url:d,type:"POST",timeout:10000,data:JSON.stringify(f),dataType:"json",success:function(i,h){e(i)},error:function(j,h,i){if(h=="timeout"&&a<3){a++;console.log("txm login timeout ! retry "+a+"; status: "+h);c()}else{e(JSON.parse(j.responseText))}}})})();function e(h){if(h.error_code){console.log("txm login response error, response: "+JSON.stringify(h))}else{if(h.result_code==2000){b.setItemToStorage("auth_token",Utils.getCookie("auth_token"));b.setItemToStorage("login_number",g.phone);if(typeof h.result=="string"){b.setItemToStorage("secret",h.result)}else{if(typeof h.result=="object"){b.setItemToStorage("secret",h.result.secret)}else{console.log("txm login secret type error;")}}}console.log("txm login response: "+JSON.stringify(h))}if(typeof g.callBack=="function"){g.callBack(h)}}};CTK.uploadUsage=function(c){var i=this;var a=0;var b=Utils.netService+"/statistic/usage?type=dialer_new&auth_token="+Utils.get_token();var e={data:[]};var g=Object.prototype.toString.call(c.dataItem).slice(8,-1).toLowerCase();if(g=="array"){c.dataItem.forEach(h)}else{h(c.dataItem)}i.getToken();(function d(){$.ajax({url:b,type:"POST",timeout:10000,data:JSON.stringify(e),dataType:"json",success:function(k,j){f(k)},error:function(m,j,l){if(j=="timeout"&&a<3){a++;console.log("txm upload usage: timeout ! retry "+a+"; status: "+j);d()}else{try{var k=JSON.parse(m.responseText)}catch(l){var k={ret:m.responseText,status:m.status}}f(k)}}})})();function f(j){console.log("txm upload usage response: "+JSON.stringify(j));if(typeof c.callBack=="function"){c.callBack(j)}}function h(k){k.timestamp=+new Date();var j={path:"path_websearch_scenario",value:JSON.stringify(k)};e.data.push(j)}};CTK.login=function(e,a,f){if(this.handler&&this.getApiLevel()>=10){return this.handler.login(e,a,f)}else{window.location.hash="#login";var d=$('<div class="frame"></div>');var c=$('<iframe src="'+Utils.netService+"/page/login.html?title="+e+"&phone="+a+"&callback="+f+'" class="link" id="link" frameborder="0"></iframe>');$("#content").addClass("displayNone");d.append(c);d.insertBefore("#header");window.removeEventListener("hashchange",b);window.addEventListener("hashchange",b);function b(){if(window.location.hash!="#login"){if(isIOS){Array.prototype.slice.call(c[0].contentWindow.document.getElementsByTagName("input")).forEach(function(g){g.blur()})}$("#content").removeClass("displayNone");d.remove()}}}};CTK.isLogged=function(){if(this.handler&&this.getApiLevel()>=10){return this.handler.isLogged()}else{return this.getItemFromStorage("secret")?true:false}};CTK.getSecret=function(){if(this.handler&&this.getApiLevel()>=10){return this.handler.getSecret()}else{return this.getItemFromStorage("secret")}};CTK.getLoginNumber=function(){if(this.handler&&this.getApiLevel()>=10){return this.handler.getLoginNumber()}else{return this.getItemFromStorage("login_number")}};CTK.getToken=function(){if(this.handler&&this.getApiLevel()>=1){return this.handler.getAuthToken()}else{if(!Utils.getCookie("auth_token")&&!this.getItemFromStorage("auth_token")){this.activate()}return Utils.getCookie("auth_token")||this.getItemFromStorage("auth_token")||""}};CTK.appendScenarioNode=function(a){if(this.handler&&this.getApiLevel()>=3){this.handler.appendScenarioNode(a)}else{a=JSON.parse(a);a.isIOS=window.navigator.userAgent.toLowerCase().indexOf("iphone")!=-1?"true":"false";this.uploadUsage({dataItem:a})}};CTK.getClientInfo=function(){if(this.handler&&this.getApiLevel()>=1){return JSON.parse(this.handler.getActivationJsonInfo())}else{return{}}};CTK.isOnlineApk=function(){if(this.handler){var a=window.CTKJavaScriptHandler.isOnlineApk();if(typeof(a)==="boolean"){return a}else{if(typeof(a)==="string"){return(a==="true")?true:false}}}};CTK.online2Local=function(c,a){var e=navigator.userAgent,d=e.indexOf("Android"),b=(d>=0)?parseFloat(e.slice(d+8)):-1;if(this.handler&&this.isOnlineApk()){return a}else{if(b>=4.4){if(this.handler&&this.getApiLevel()>=20){return"ctlocal:content://local.file.provider_online/"+c}else{return a}}else{return"content://local.file.provider_online/"+c}}};CTK.weixinpay=function(a,b){if(this.getApiLevel()>=19){return this.handler.weixinpay(a,b)}};CTK.isWXAppInstalled=function(){if(this.getApiLevel()>=19){return this.handler.isWXAppInstalled()}};CTK.isWXPaySupported=function(){if(this.getApiLevel()>=19){return this.handler.isWXPaySupported()}};CTK.downloadApk=function(a){if(this.getApiLevel()>=8){this.handler.downloadApk(JSON.stringify(a))}};CTK.getTabbarRedPointInfo=function(){if(this.getApiLevel()>=11){return this.handler.getTabbarRedPointInfo()}};CTK.delTabbarRedPointInfo=function(a){if(this.getApiLevel()>=11){this.handler.delTabbarRedPointInfo(JSON.stringify(a))}};CTK.getReadySim=function(){if(this.getApiLevel()>=8){return this.handler.getReadySim()}};CTK.getDefaultSimCard=function(){if(this.getApiLevel()>=8){return this.handler.getDefaultSimCard()}};CTK.isMainTabYellowPage=function(){if(this.getApiLevel()>=23){var a=window.location.href;return(a.indexOf("/page/index.html")!=-1||a.indexOf("local.file.provider_online/index.html")!=-1)?this.handler.isMainTabYellowPage():false}};CTK.startExternalLinkWebViewNew=function(b,c,a,e,d){if(this.handler){if(c in Utils.source_umeng_map){this.onUMengEvent(Utils.source_umeng_map[c])}Utils.collect_scenario_status_external_link_params(b);if(this.getApiLevel()>=24){this.handler.startExternalLinkWebViewNew(b,c,!!a,e||"生活黄页",d||"您确定要退出页面吗？\n返回上一页请点顶部返回.")}else{if(a&&this.getApiLevel()>=12){this.handler.startExternalLinkWebViewHideNavigationBar(b,c)}else{this.handler.startExternalLinkWebView(b,c)}}}else{window.location.href=b}};CTK.openUrlInBrowser=function(a){if(this.handler&&this.getApiLevel()>=24){this.handler.openUrlInBrowser(a)}else{return}};CTK.shareWechatMoment=function(a){if(this.getApiLevel()>=15){this.handler.shareWechatMoment(JSON.stringify(a))}};CTK.tryShare=function(a){if(this.getApiLevel()>=29){console.log(JSON.stringify(a));this.handler.tryShare(JSON.stringify(a),"CTK.callback")}};CTK.callback=function(){console.log("try share callback")};CTK.getAccessToken=function(){var a=new Base64();var b=this;if(b.getApiLevel()>=32){var c=b.handler.getAccessToken()}if(c&&c.length>5){return c}var d={token:b.getToken(),etoken:""};return a.encode(JSON.stringify(d))};CTK.fullScreen=function(b,a,e,g,d){if(this.getApiLevel()>=37){var c="com.cootek.smartdialer";var f="com.cootek.smartdialer.touchlife.TouchLifePageActivity";var h={EXTRA_URL_STRING:b,EXTRA_BACK_ONCE_QUIT_CONFIRM:true,EXTRA_SCREEN_SELF_ADJUST:a,EXTRA_SHOW_TITLE:true,EXTRA_SHOW_TAB_BAR:false,EXTRA_SHOW_BACK_ON_MAIN_PAGE:true,EXTRA_SCREEN_FULL:true,EXTRA_UNIQUE_ITEM_TYPE:e,EXTRA_SHORTCUT_ICON:g,EXTRA_SHORTCUT_NAME:d};window.CTKJavaScriptHandler.launchLocalAppByClassName(c,f,null,JSON.stringify(h),false)}else{window.location.href=b}};CTK.copyToClipboard=function(a){if(this.getApiLevel()>=7&&this.handler){this.handler.copyToClipboard(a);return true}return false};var fastclick_exist=true;(function(d){d.fn.fastClick=function(j,i){return this.each(function(){b(d(this),j,i)})};var c="ontouchstart" in window;var h=c?"touchstart":"mousedown";var g=c?"touchmove":"mousemove";var e=c?"touchend":"mouseup";var f="touchcancel";var a=d("body");var b=function(m,s,j){var o,n;var p=function(){m.off(e,r);setTimeout(function(){m.removeClass("active")},200);a.off(g,i).off(f)};var q=function(){var t=m.attr("custom_event");if(!t){return}var u=Utils.collect_scenario_params_common(139,"custom_event");u.module=t.split(" ")[0];u.event=t;Utils.append_scenario_node(JSON.stringify(u))};var r=function(t){t.preventDefault();t.stopPropagation();p();q();s.call(this,t)};var i=function(t){if(c){var u=t.originalEvent;if(!u){u=t.touches}if(Math.abs(u[0].clientX-o)>2||Math.abs(u[0].clientY-n)>2){p()}}else{p()}};var k=function(t){p()};var l=function(t){t.stopPropagation();if(!j){m.off(e)}m.on(e,r);m.addClass("active");a.on(g,i);a.on(f,k);if(c){var u=t.originalEvent;if(!u){u=t.touches}o=u[0].clientX;n=u[0].clientY}};m.on(h,l)}})(Zepto);(function(){var f=window.history,d=navigator.userAgent,a=window.location;var e=d.match(/iPhone OS/g);if(!e||(e&&e.length<=0)){return}var b=function(k,l){this.init_state=k;this.transitions=l||[];for(var j=0,g=l.length;j<g;j++){var h=l[j];if(this.states.indexOf(h.from)<0){this.states.push(h.from)}if(this.states.indexOf(h.to)<0){this.states.push(h.to)}}};b.prototype={init_state:null,states:[],transitions:[],has_state:function(g){return this.states.indexOf(g)>-1},find_trans:function(g){var h=this.transitions;if(g.from){h=h.filter(function(i){return i.from===g.from})}if(g.to){h=h.filter(function(i){return i.to===g.to})}return h}};var c=new b("/page/index.html",[{name:"index",from:"/page/index.html",to:"/page/index.html",back:"/page/index.html"},{name:"select_city",from:"/page/index.html",to:"/page/indexCity.html",back:"/page/index.html"},{name:"input_search",from:"/page/index.html",to:"/page/index.html#input",back:"/page/index.html"},{name:"search",from:"/page/index.html#input",to:"/page/search.html",back:"/page/index.html"},{name:"search_city",from:"/page/search.html",to:"/page/indexCity.html",back:"/page/search.html"}]);f.backward=f.back;f.back=function(){var k=new RegExp(a.origin+"(.+)$"),l=k.exec(a.href),h=k.exec(document.referrer),g,j;l=(l&&l.length>1)?l[1]:undefined;if(!c.has_state(l)){return f.backward()}h=(h&&h.length>1)?h[1]:undefined;var i=c.find_trans({to:h});g=(i.length===1)?i[0].back:c.init_state;var i=c.find_trans({to:l});if(i.length===1){j=i[0].back}else{if(i.length>1){if(h){i=i.filter(function(m){return(m.from===h)?true:false})}j=(i.length===1)?i[0].back:undefined}else{return f.backward()}}if(g&&j){window.history.pushState({url:a.origin+g},document.title,a.origin+g);window.location.href=a.origin+j}else{return f.backward()}}})();var CityDataUtil={cityBaseData:{hotCity:["杭州","北京","上海","广州","深圳","成都","重庆","天津","南京","武汉","西安","郑州"],mainCity:{A:{"鞍山":{},"安庆":{},"安阳":{}},B:{"北京":{},"保定":{},"包头":{},"滨州":{},"宝鸡":{},"北海":{},"亳州":{},"本溪":{}},C:{"成都":{},"重庆":{},"长沙":{},"长春":{},"常州":{},"沧州":{},"常德":{},"潮州":{},"滁州":{},"郴州":{},"承德":{},"朝阳":{},"长治":{},"池州":{},"楚雄":{}},D:{"大连":{},"东莞":{},"德阳":{},"丹东":{},"大庆":{},"达州":{},"大同":{}},F:{"福州":{},"佛山":{},"阜阳":{},"抚顺":{},},G:{"广州":{},"贵阳":{},"桂林":{},"赣州":{},"广安":{},"贵港":{},"广元":{}},H:{"杭州":{},"哈尔滨":{},"合肥":{},"呼和浩特":{},"海口":{},"惠州":{},"湖州":{},"邯郸":{},"衡阳":{},"菏泽":{},"黄冈":{},"怀化":{},"黄石":{},"淮南":{},"鹤壁":{}},J:{"济南":{},"金华":{},"嘉兴":{},"江门":{},"济宁":{},"吉林":{},"焦作":{},"晋中":{},"吉安":{},"晋城":{},"佳木斯":{}},K:{"昆明":{},"开封":{},"喀什":{}},L:{"兰州":{},"拉萨":{},"临沂":{},"洛阳":{},"廊坊":{},"连云港":{},"丽水":{},"聊城":{},"龙岩":{},"临汾":{},"乐山":{},"漯河":{},"娄底":{},"泸州":{},"吕梁":{}},M:{"茂名":{},"梅州":{},"绵阳":{},"牡丹江":{},"马鞍山":{},"眉山":{}},N:{"南京":{},"南昌":{},"南宁":{},"宁波":{},"南阳":{},"南通":{},"宁德":{},"南充":{}},P:{"平顶山":{},"濮阳":{},"萍乡":{},"平凉":{}},Q:{"青岛":{},"泉州":{},"清远":{},"曲靖":{},"齐齐哈尔":{}},R:{"日照":{}},S:{"上海":{"全城热门商区":["人民广场","陆家嘴","五角场/大学区","火车站","虹桥","莘庄"],"朝阳区":["人民广场","陆家嘴","五角场/大学区","火车站","虹桥","莘庄"]},"深圳":{},"苏州":{},"沈阳":{},"汕头":{},"石家庄":{},"绍兴":{},"三明":{},"上饶":{},"松原":{}},T:{"天津":{},"太原":{},"泰州":{},"唐山":{},"泰安":{},"天水":{}},W:{"武汉":{},"乌鲁木齐":{},"温州":{},"无锡":{},"潍坊":{},"威海":{},"芜湖":{}},X:{"西安":{},"厦门":{},"西宁":{},"徐州":{},"新乡":{},"邢台":{},"襄阳":{},"许昌":{},"信阳":{},"宣城":{},"湘潭":{},"孝感":{},"忻州":{}},Y:{"银川":{},"盐城":{},"扬州":{},"烟台":{},"岳阳":{},"宜昌":{},"宜宾":{},"玉林":{},"宜春":{},"永州":{},"延安":{},"鹰潭":{}},Z:{"珠海":{},"郑州":{},"湛江":{},"周口":{},"中山":{},"淄博":{},"肇庆":{},"镇江":{},"株洲":{},"驻马店":{},"自贡":{}}}},getCityData:function(){var a={};var b=CityDataUtil.cityBaseData.mainCity;a.hotCity=CityDataUtil.cityBaseData.hotCity;a.mainCity={};for(var c in b){a.mainCity[c]=[];for(var d in b[c]){a.mainCity[c].push(d)}}return a},getRegionAndBusinessCircle:function(d){var c={};if(d){var b=CityDataUtil.cityBaseData.mainCity;var a=d.split("|");c=b[a[0]][a[1]]}return c},getCityDataByRemove:function(c,b){var a=CityDataUtil.getCityData();if(c&&c.length>0){c.forEach(function(e){var d=e.split("|");a.mainCity[d[0]].splice($.inArray(d[1],a.mainCity[d[0]]),1);if(a.mainCity[d[0]].length==0){delete a.mainCity[d[0]]}})}if(b&&b.length>0){b.forEach(function(d){a.hotCity.splice($.inArray(d,a.hotCity),1)})}return a},getCityDataByKeep:function(d,c){var b={};var a=CityDataUtil.getCityData();b.hotCity=a.hotCity;b.mainCity={};if(d&&d.length>0){d.forEach(function(f){var e=f.split("|");if(!b.mainCity[e[0]]){b.mainCity[e[0]]=[]}b.mainCity[e[0]].push(e[1])})}else{b.mainCity=a.mainCity}if(c&&c.length>0){c.forEach(function(e){b.hotCity.splice($.inArray(e,b.hotCity),1)})}return b},supportCity:function(d){var a=this;if(d){d=d.replace("市","")}else{return null}cityMap=a.cityBaseData.mainCity;for(var b in cityMap){for(var c in cityMap[b]){if(d==c){return d}}}return null}};(function(d){var f=3;var c={SEARCH:"SEARCH",CHUN_YUN:"CHUN_YUN",ADD_MERCHANT:"ADD_MERCHANT",HOTEL:"HOTEL",VIOLATION:"VIOLATION"};var e={chooseCity:"上海",cityData:CityDataUtil.cityBaseData,cityType:c.SEARCH,selectCityCB:function(){}};d.fn.cityPage=function(i){var j=d.extend({},e,i);return this.each(function(){var k=d(this);h(j,k)})};d.fn.cityPage=function(i,k){e.chooseCity=k;var j=d.extend({},e,i);return this.each(function(){var l=d(this);h(j,l)})};function h(m,n){if(m.oldCity==m.chooseCity){return}if(m.needInitData){g(n,m.cityData);Utils.init();Utils.dump();a(m)}else{Utils.storage_set_item("back_with_part_refresh","true")}var k=CityDataUtil.supportCity(Utils.storage_get_item("native_param_city"));if(k){d("#m_current_title").removeClass("displayNone");d(".lastLine").removeClass("displayNone");d(".lastLine").addClass("displayBox");d("#m_current_city").text(k)}if(m.chooseCity){if(d("#m_current_city").text()==m.chooseCity){var o=d("#m_current_city");var i=o.text().length;if(i<=2){o.addClass("checked_2")}else{if(i==3){o.addClass("checked_3")}else{if(i>=4){o.addClass("checked_4")}}}}if(d("#m_current_city").text()==m.oldCity){var o=d("#m_current_city");var i=o.text().length;if(i<=2){o.removeClass("checked_2")}else{if(i==3){o.removeClass("checked_3")}else{if(i>=4){o.removeClass("checked_4")}}}}d(".cityItem").each(function(){if(d(this).text()==m.chooseCity){var q=d(this).text().length;if(q<=2){d(this).addClass("checked_2")}else{if(q==3){d(this).addClass("checked_3")}else{if(q>=4){d(this).addClass("checked_4")}}}var r=d(this).closest(".alphaContainer");if(r.length>0){var p=r.find(".titleLeft").text().trim();r.find(".titleRight").addClass("arrowDown");r.find("#"+p).removeClass("displayNone")}}else{if(d(this).text()==m.oldCity){var q=d(this).text().length;if(q<=2){d(this).removeClass("checked_2")}else{if(q==3){d(this).removeClass("checked_3")}else{if(q>=4){d(this).removeClass("checked_4")}}}var r=d(this).closest(".alphaContainer");if(r.length>0){var p=r.find(".titleLeft").text().trim();r.find(".titleRight").removeClass("arrowDown");r.find("#"+p).addClass("displayNone")}}}})}var j={current_page:"选择城市"};Utils.set_tucao_map(j)}function a(i){d(".cityItem").each(function(){d(this).fastClick(i.selectCityCB)});d(".TitleAlpha").each(function(){d(this).fastClick(b)})}function b(l,j){var i=(j)?j:d(this).text().trim();var k=d(this).find(".titleRight");if(k.hasClass("arrowDown")){k.removeClass("arrowDown");d("#"+i).addClass("displayNone")}else{k.addClass("arrowDown");d("#"+i).removeClass("displayNone");if(i=="Z"){d("body").scrollTop(d("body").scrollTop()+d("#"+i).css("width").slice(0,-2)*1)}}}function g(q,j){var k=d('<div class="odd"></div>');var l=Math.ceil(j.hotCity.length/f);q.append(k);for(var v=0;v<l;v++){var s=d('<div class="cityLine"></div>');k.append(s);for(var x=0;x<f;x++){var r=d('<div class="cityItem"></div>');if(v*f+x<j.hotCity.length){r.html(j.hotCity[v*f+x]);if(v==l-1&&v*f==j.hotCity.length-1){var i=d("<div></div>");i.addClass("vLine");s.append(r);s.append(i);break}else{if((x==f-1&&v*f+x==2)||x==f-1&&(v*f+x==j.hotCity.length-1)){s.append(r)}else{var i=d("<div></div>");i.addClass("vLine");s.append(r);s.append(i)}}}}}var p="EVEN";var o=j.mainCity;for(var m in o){if(p=="EVEN"){var n="<div class='TitleAlpha even'><div class='titleLeft'>"+m+"</div><div class='titleRight'></div></div><div class='even displayNone' id='"+m+"'></div>";p="ODD"}else{var n="<div class='TitleAlpha odd'><div class='titleLeft'>"+m+"</div><div class='titleRight'></div></div><div class='odd displayNone' id='"+m+"'></div>";p="EVEN"}var u=d('<div class="alphaContainer"></div>');q.append(u);u.append(n);var t=Math.ceil(o[m].length/f);for(var w=0;w<t;w++){var s=d('<div class="cityLine"></div>');d("#"+m).append(s);for(var x=0;x<f;x++){var r=d('<div class="cityItem"></div>');if(w*f+x<o[m].length){r.html(o[m][w*f+x]);if(w==t-1&&w*f==o[m].length-1){var i=d("<div></div>");i.addClass("vLine");s.append(r);s.append(i);break}else{if(x==f-1){s.append(r)}else{var i=d("<div></div>");i.addClass("vLine");s.append(r);s.append(i)}}}}}}}})(Zepto);var isGeoLocationAvailable=navigator.geolocation;function init(){var e=Utils.storage_get_item("city");collect_scenario_params();var c=[];var b=["杭州"];var d=CityDataUtil.getCityDataByRemove(c,b);var a={chooseCity:e,cityData:d,selectCityCB:selectCity,needInitData:true};$(".Container").cityPage(a)}var selectCity=function(f,i){var c=(i)?i:$(this).text().trim();var g=Utils.storage_get_item("city");if(c=="全国"){Utils.storage_set_item("is_user_select_city","false")}else{Utils.storage_set_item("is_user_select_city","true")}var b=Utils.storage_get_item("search_page_cache");if(c!==g&&b&&b!==""){console.log("city has changed from "+g+" to "+c);Utils.storage_set_item("search_page_cache","")}Utils.storage_set_item("city",c);var h=new Date();var a=h.getTime();Utils.storage_set_item("choose_city_cache_time",a.toString());collect_scenario_action_choose_city_params();var e={chooseCity:c,oldCity:g,needInitData:false};$(".Container").cityPage(e);Utils.back_page()};var collect_scenario_params=function(){var a=Utils.collect_scenario_params_common(10,"status_page_loaded_city");Utils.append_scenario_node(JSON.stringify(a))};var collect_scenario_action_choose_city_params=function(){var a=Utils.collect_scenario_params_common(11,"action_choose_city");a.page="city";Utils.append_scenario_node(JSON.stringify(a))};
        init();
    </script>
</body>
</html>
